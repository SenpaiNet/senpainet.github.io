<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>投稿一覧 | SenpaiNet</title>
  <link rel="stylesheet" href="archive.css">

  <!-- Firebase SDKの読み込み -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js";
    import { getFirestore } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-firestore.js";
    // ★追加: 認証機能をインポート
    import { getAuth, signOut } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-auth.js";

    // あなたのプロジェクト設定
    const firebaseConfig = {
      apiKey: "AIzaSyCwPtYMU_xiM5YgcqfNsCFESkj-Y4ICD5E",
      authDomain: "senpainet-84a24.firebaseapp.com",
      projectId: "senpainet-84a24",
      storageBucket: "senpainet-84a24.firebasestorage.app",
      messagingSenderId: "1053589632945",
      appId: "1:1053589632945:web:413919be47760675e4ef90",
      measurementId: "G-1GPKNSMMFZ"
    };

    // Firebase初期化
    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);
    const auth = getAuth(app); // ★追加: Authの初期化

    window.db = db; // 他スクリプトでも使えるようにする

    // ★追加: ログアウト処理
    const logoutBtn = document.getElementById('logoutBtn');
    if (logoutBtn) {
      logoutBtn.addEventListener('click', (e) => {
        e.preventDefault(); // リンクの移動をキャンセル
        signOut(auth).then(() => {
          alert("ログアウトしました 👋");
          // ログインページへ移動（この後作ります）
          window.location.href = "login.html";
        }).catch((error) => {
          console.error("ログアウトエラー:", error);
          alert("ログアウトに失敗しました");
        });
      });
    }
  </script>

</head>
<body class="list-page">

  <!-- ナビゲーションバー -->
  <header class="navbar">
    <div class="navbar-container">
      <!-- 左：ロゴ -->
      <div class="navbar-logo">
        <a href="index.html">SenpaiNet</a>
      </div>

      <!-- 右：メニュー -->
      <nav class="navbar-menu">
        <a href="post.html">相談する</a>
        <a href="archive.html" class="active">相談を見る</a>
        <a href="#">実績</a>
        <a href="#">お問い合わせ</a>
        <!-- ★変更: アカウント登録リンクをログアウトボタンに変更 -->
        <a href="#" id="logoutBtn" class="account-link" style="color: #ff6b6b;">🚪 ログアウト</a>
      </nav>
    </div>
  </header>

  <!-- ページメイン -->
  <main>
    <section class="header">
      <h1>🌐 みんなの相談一覧</h1>
      <div class="search-bar">
        <input type="text" id="keywordInput" placeholder="キーワードで検索">
        <button id="searchBtn">検索</button>
      </div>
      <a href="post.html" class="new-post-btn">＋ 新しく投稿</a>
    </section>

    <section class="post-list" id="postList">
      <!-- JavaScriptで投稿カードをここに表示 -->
    </section>
  </main>
   
  <script type="module" src="post_script.js"></script>
</body>
</html>



